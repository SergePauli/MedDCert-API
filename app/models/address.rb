class Address < ApplicationRecord
  has_many :null_flavors, class_name: "NullFlavor", primary_key: "id", foreign_key: "parent_guid"
  accepts_nested_attributes_for :null_flavors, allow_destroy: true
  def self.regions
    [{ code: "01", name: "Адыгея Респ" }, { code: "04", name: "Алтай Респ" }, { code: "22", name: "Алтайский край" }, { code: "28", name: "Амурская обл" }, { code: "29", name: "Архангельская обл" }, { code: "30", name: "Астраханская обл" }, { code: "02", name: "Башкортостан Респ" }, { code: "31", name: "Белгородская обл" }, { code: "32", name: "Брянская обл" }, { code: "03", name: "Бурятия Респ" }, { code: "33", name: "Владимирская обл" }, { code: "34", name: "Волгоградская обл" }, { code: "35", name: "Вологодская обл" }, { code: "36", name: "Воронежская обл" }, { code: "05", name: "Дагестан Респ" }, { code: "79", name: "Еврейская Аобл" }, { code: "75", name: "Забайкальский край" }, { code: "37", name: "Ивановская обл" }, { code: "06", name: "Ингушетия Респ" }, { code: "38", name: "Иркутская обл" }, { code: "07", name: "Кабардино-Балкарская Респ" }, { code: "39", name: "Калининградская обл" }, { code: "08", name: "Калмыкия Респ" }, { code: "40", name: "Калужская обл" }, { code: "41", name: "Камчатский край" }, { code: "09", name: "Карачаево-Черкесская Респ" }, { code: "10", name: "Карелия Респ" }, { code: "42", name: "Кемеровская область - Кузбасс обл" }, { code: "43", name: "Кировская обл" }, { code: "11", name: "Коми Респ" }, { code: "44", name: "Костромская обл" }, { code: "23", name: "Краснодарский край" }, { code: "24", name: "Красноярский край" }, { code: "91", name: "Крым Респ" }, { code: "45", name: "Курганская обл" }, { code: "46", name: "Курская обл" }, { code: "47", name: "Ленинградская обл" }, { code: "48", name: "Липецкая обл" }, { code: "49", name: "Магаданская обл" }, { code: "12", name: "Марий Эл Респ" }, { code: "13", name: "Мордовия Респ" }, { code: "77", name: "Москва г" }, { code: "50", name: "Московская обл" }, { code: "51", name: "Мурманская обл" }, { code: "83", name: "Ненецкий АО" }, { code: "52", name: "Нижегородская обл" }, { code: "53", name: "Новгородская обл" }, { code: "54", name: "Новосибирская обл" }, { code: "55", name: "Омская обл" }, { code: "56", name: "Оренбургская обл" }, { code: "57", name: "Орловская обл" }, { code: "58", name: "Пензенская обл" }, { code: "59", name: "Пермский край" }, { code: "25", name: "Приморский край" }, { code: "60", name: "Псковская обл" }, { code: "61", name: "Ростовская обл" }, { code: "62", name: "Рязанская обл" }, { code: "63", name: "Самарская обл" }, { code: "78", name: "Санкт-Петербург г" }, { code: "64", name: "Саратовская обл" }, { code: "65", name: "Сахалинская обл" }, { code: "14", name: "Саха /Якутия/ Респ" }, { code: "66", name: "Свердловская обл" }, { code: "92", name: "Севастополь г" }, { code: "15", name: "Северная Осетия - Алания Респ" }, { code: "67", name: "Смоленская обл" }, { code: "26", name: "Ставропольский край" }, { code: "68", name: "Тамбовская обл" }, { code: "16", name: "Татарстан Респ" }, { code: "69", name: "Тверская обл" }, { code: "70", name: "Томская обл" }, { code: "71", name: "Тульская обл" }, { code: "17", name: "Тыва Респ" }, { code: "72", name: "Тюменская обл" }, { code: "18", name: "Удмуртская Респ" }, { code: "73", name: "Ульяновская обл" }, { code: "27", name: "Хабаровский край" }, { code: "19", name: "Хакасия Респ" }, { code: "86", name: "Ханты-Мансийский Автономный округ - Югра АО" }, { code: "74", name: "Челябинская обл" }, { code: "20", name: "Чеченская Респ" }, { code: "21", name: "Чувашская Республика - Чувашия" }, { code: "87", name: "Чукотский АО" }, { code: "89", name: "Ямало-Ненецкий АО" }, { code: "76", name: "Ярославская обл" }]
  end
  def self.region_name(code)
    Address.regions.find { |el| el[:code] == code }
  end
  # For using in UniversalEnttityController or other models
  # Для использования в универсальном контроллере сущностей
  # и в других моделях
  def self.permitted_params
    [:id, :state, :streetAddressLine, :aoGUID, :houseGUID, :postalCode,
     :code, :parent_guid, :actual, :house_number, :struct_number, :building_number,
     :flat_number, null_flavors_attributes: NullFlavor.permitted_params]
  end
end
